
<h5>Lista de Produto(s)</h5>

<div class="row">    
    <%= form_with(url: '/products', method: :get, local: true) do %>
        <div class="column">  
            <p> <%= text_field_tag :q %>
                <%= submit_tag "Pesquisar", data: {disable_with: 'Buscando....' }, class: "btn btn-info btn-sm" %> 
            </p>  
        </div>
    <% end %> 
        <div  class="column pagination justify-content-end mt-2"> <p> <%= link_to_prev_page @products, '<< Pagina Anterior'  %>
            <%= link_to_next_page @products, 'Proxima Pagina >>' %> </p>
        </div>
</div>

<table>
    <thead>
        <tr>
            <th>Produto</th>
            <th colspan="3"></th>
        </tr>
    </thead>

    <tbody>
        <% @products.each do |p| %>
            <tr>
                <td><%= [p.product_type.description, p.description, p.product_composition.description,
                         p.product_color.description, p.product_size.description].join(", ") %></td>
                <td><%= link_to ' Visualizar ', product_path(p),  class: 'btn btn-secondary btn-sm'  %></td>
                <td><%= link_to ' Alterar ', edit_product_path(p), class: 'btn btn-success btn-sm' %></td>
                <td><%= link_to ' Excluir ', p, method: :delete, data: { confirm: "Voce tem certeza que quer Excluir ?" }, class: 'btn btn-danger btn-sm' %> </td>
            </tr>
        <% end %>
    </tbody>
</table>

<br>

<%= link_to 'Novo Produto', new_product_path, class: 'btn btn-info btn-sm' %>
<%= link_to 'Sair', homes_path, class: 'btn btn-dark btn-sm' %>